@*@model IEnumerable<LMS_mastery.Models.DTOsView.TeacherRoster>*@
@model LMS_mastery.Models.DTOsView.ClassRosterModel

@{
    ViewBag.Title = "Class";
}

<h2>Class Roster</h2>
<!--Small button bar that allows teacher to go to different areas in the website-->
<div class="Links">
    <div class="btn-group" style="margin: 9px 0 5px;">
        @Html.ActionLink("Class Information", "Edit", "Teacher", new { id = ViewContext.RouteData.Values["id"] }, new { @class = "btn btn-default", @type = "button" })
        @Html.ActionLink("Roster", "Class", "Teacher", new { id = ViewContext.RouteData.Values["id"] }, new { @class = "btn btn-default", @type = "button" })
        @Html.ActionLink("Gradebook", "Gradebook", "Teacher", new { id = ViewContext.RouteData.Values["id"] }, new { @class = "btn btn-default", @type = "button" })
    </div>
</div>
@if (Model.Count() > 0 && Model != null)
{
    <div class="row">
        <div class="col-sm-6">
            <table class="table table-hover table-striped">
                <tr>
                    <th>
                        First name
                    </th>
                    <th>
                        Last Name
                    </th>
                    <th>
                        User Name
                    </th>
                    <th></th>
                </tr>

                @foreach (var item in Model.Roster)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.FirstName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.LastName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.UserName)
                        </td>
                        <td>
                            @using (Html.BeginForm("Delete", "Teacher", FormMethod.Post))
                            {
                                @Html.Hidden("UserId", item.UserId)
                                @Html.Hidden("ClassId", item.ClassId)
                                <button class="glyphicon glyphicon-trash"></button>
                            }
                        </td>
                    </tr>
                }

            </table>
        </div>
        <div class="col-sm-4 col-sm-offset-1">
            <fieldset>
                <legend>Add Student</legend>

                <div class="col-sm-12">
                    <span>To Be Determined...</span>
                </div>

            </fieldset>
        </div>
    </div>
}
else
{
    <div class="row">
        <div class="col-sm-6">
            <div class="jumbotron">
                <h1>No Students</h1>
                <p>Add an available student on the right to your course and you will see your student list here. </p>
            </div>
        </div>
        <div class="col-sm-4 col-sm-offset-1">
            <fieldset>
                <legend>Add Student</legend>
                <div class="row">
                    <div class="col-sm-12">
                        <span>To Be Determined...</span>
                    </div>
                </div>
            </fieldset>
        </div>
    </div>

}
@section scripts{
   
    @if (TempData["message"] != null)
    {
        <script>
            $(document).ready(function () {
                toastr.options = {
                    "closeButton": false,
                    "debug": false,
                    "positionClass": "toast-bottom-full-width",
                    "onclick": null,
                    "showDuration": "300",
                    "hideDuration": "1000",
                    "timeOut": "5000",
                    "extendedTimeOut": "1000",
                    "showEasing": "swing",
                    "hideEasing": "linear",
                    "showMethod": "fadeIn",
                    "hideMethod": "fadeOut"
                }
                toastr.info('@TempData["message"]');
            });
        </script>
    }
}